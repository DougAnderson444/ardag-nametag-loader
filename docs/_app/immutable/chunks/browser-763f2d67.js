import{b as wr,c as xr}from"./_page-d9963c6f.js";var mt={},Ht={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ht.read=function(o,e,r,i,c){var l,a,f=c*8-i-1,m=(1<<f)-1,p=m>>1,b=-7,g=r?c-1:0,w=r?-1:1,x=o[e+g];for(g+=w,l=x&(1<<-b)-1,x>>=-b,b+=f;b>0;l=l*256+o[e+g],g+=w,b-=8);for(a=l&(1<<-b)-1,l>>=-b,b+=i;b>0;a=a*256+o[e+g],g+=w,b-=8);if(l===0)l=1-p;else{if(l===m)return a?NaN:(x?-1:1)*(1/0);a=a+Math.pow(2,i),l=l-p}return(x?-1:1)*a*Math.pow(2,l-i)};Ht.write=function(o,e,r,i,c,l){var a,f,m,p=l*8-c-1,b=(1<<p)-1,g=b>>1,w=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=i?0:l-1,T=i?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,a=b):(a=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-a))<1&&(a--,m*=2),a+g>=1?e+=w/m:e+=w*Math.pow(2,1-g),e*m>=2&&(a++,m/=2),a+g>=b?(f=0,a=b):a+g>=1?(f=(e*m-1)*Math.pow(2,c),a=a+g):(f=e*Math.pow(2,g-1)*Math.pow(2,c),a=0));c>=8;o[r+x]=f&255,x+=T,f/=256,c-=8);for(a=a<<c|f,p+=c;p>0;o[r+x]=a&255,x+=T,a/=256,p-=8);o[r+x-T]|=A*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(o){const e=wr,r=Ht,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=f,o.SlowBuffer=R,o.INSPECT_MAX_BYTES=50;const c=2147483647;o.kMaxLength=c,f.TYPED_ARRAY_SUPPORT=l(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const s=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(s,t),s.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(!!f.isBuffer(this))return this.byteOffset}});function a(s){if(s>c)throw new RangeError('The value "'+s+'" is invalid for option "size"');const t=new Uint8Array(s);return Object.setPrototypeOf(t,f.prototype),t}function f(s,t,n){if(typeof s=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(s)}return m(s,t,n)}f.poolSize=8192;function m(s,t,n){if(typeof s=="string")return w(s,t);if(ArrayBuffer.isView(s))return T(s);if(s==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(W(s,ArrayBuffer)||s&&W(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(W(s,SharedArrayBuffer)||s&&W(s.buffer,SharedArrayBuffer)))return A(s,t,n);if(typeof s=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const u=s.valueOf&&s.valueOf();if(u!=null&&u!==s)return f.from(u,t,n);const h=M(s);if(h)return h;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof s[Symbol.toPrimitive]=="function")return f.from(s[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}f.from=function(s,t,n){return m(s,t,n)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array);function p(s){if(typeof s!="number")throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function b(s,t,n){return p(s),s<=0?a(s):t!==void 0?typeof n=="string"?a(s).fill(t,n):a(s).fill(t):a(s)}f.alloc=function(s,t,n){return b(s,t,n)};function g(s){return p(s),a(s<0?0:F(s)|0)}f.allocUnsafe=function(s){return g(s)},f.allocUnsafeSlow=function(s){return g(s)};function w(s,t){if((typeof t!="string"||t==="")&&(t="utf8"),!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=q(s,t)|0;let u=a(n);const h=u.write(s,t);return h!==n&&(u=u.slice(0,h)),u}function x(s){const t=s.length<0?0:F(s.length)|0,n=a(t);for(let u=0;u<t;u+=1)n[u]=s[u]&255;return n}function T(s){if(W(s,Uint8Array)){const t=new Uint8Array(s);return A(t.buffer,t.byteOffset,t.byteLength)}return x(s)}function A(s,t,n){if(t<0||s.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let u;return t===void 0&&n===void 0?u=new Uint8Array(s):n===void 0?u=new Uint8Array(s,t):u=new Uint8Array(s,t,n),Object.setPrototypeOf(u,f.prototype),u}function M(s){if(f.isBuffer(s)){const t=F(s.length)|0,n=a(t);return n.length===0||s.copy(n,0,0,t),n}if(s.length!==void 0)return typeof s.length!="number"||Lt(s.length)?a(0):x(s);if(s.type==="Buffer"&&Array.isArray(s.data))return x(s.data)}function F(s){if(s>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return s|0}function R(s){return+s!=s&&(s=0),f.alloc(+s)}f.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==f.prototype},f.compare=function(t,n){if(W(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),W(n,Uint8Array)&&(n=f.from(n,n.offset,n.byteLength)),!f.isBuffer(t)||!f.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;let u=t.length,h=n.length;for(let d=0,y=Math.min(u,h);d<y;++d)if(t[d]!==n[d]){u=t[d],h=n[d];break}return u<h?-1:h<u?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return f.alloc(0);let u;if(n===void 0)for(n=0,u=0;u<t.length;++u)n+=t[u].length;const h=f.allocUnsafe(n);let d=0;for(u=0;u<t.length;++u){let y=t[u];if(W(y,Uint8Array))d+y.length>h.length?(f.isBuffer(y)||(y=f.from(y)),y.copy(h,d)):Uint8Array.prototype.set.call(h,y,d);else if(f.isBuffer(y))y.copy(h,d);else throw new TypeError('"list" argument must be an Array of Buffers');d+=y.length}return h};function q(s,t){if(f.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||W(s,ArrayBuffer))return s.byteLength;if(typeof s!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);const n=s.length,u=arguments.length>2&&arguments[2]===!0;if(!u&&n===0)return 0;let h=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return At(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return yn(s).length;default:if(h)return u?-1:At(s).length;t=(""+t).toLowerCase(),h=!0}}f.byteLength=q;function E(s,t,n){let u=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return"";for(s||(s="utf8");;)switch(s){case"hex":return hr(this,t,n);case"utf8":case"utf-8":return Me(this,t,n);case"ascii":return cr(this,t,n);case"latin1":case"binary":return fr(this,t,n);case"base64":return Bt(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lr(this,t,n);default:if(u)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),u=!0}}f.prototype._isBuffer=!0;function _(s,t,n){const u=s[t];s[t]=s[n],s[n]=u}f.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let n=0;n<t;n+=2)_(this,n,n+1);return this},f.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let n=0;n<t;n+=4)_(this,n,n+3),_(this,n+1,n+2);return this},f.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let n=0;n<t;n+=8)_(this,n,n+7),_(this,n+1,n+6),_(this,n+2,n+5),_(this,n+3,n+4);return this},f.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?Me(this,0,t):E.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:f.compare(this,t)===0},f.prototype.inspect=function(){let t="";const n=o.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},i&&(f.prototype[i]=f.prototype.inspect),f.prototype.compare=function(t,n,u,h,d){if(W(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(n===void 0&&(n=0),u===void 0&&(u=t?t.length:0),h===void 0&&(h=0),d===void 0&&(d=this.length),n<0||u>t.length||h<0||d>this.length)throw new RangeError("out of range index");if(h>=d&&n>=u)return 0;if(h>=d)return-1;if(n>=u)return 1;if(n>>>=0,u>>>=0,h>>>=0,d>>>=0,this===t)return 0;let y=d-h,B=u-n;const k=Math.min(y,B),C=this.slice(h,d),N=t.slice(n,u);for(let O=0;O<k;++O)if(C[O]!==N[O]){y=C[O],B=N[O];break}return y<B?-1:B<y?1:0};function L(s,t,n,u,h){if(s.length===0)return-1;if(typeof n=="string"?(u=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Lt(n)&&(n=h?0:s.length-1),n<0&&(n=s.length+n),n>=s.length){if(h)return-1;n=s.length-1}else if(n<0)if(h)n=0;else return-1;if(typeof t=="string"&&(t=f.from(t,u)),f.isBuffer(t))return t.length===0?-1:P(s,t,n,u,h);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?h?Uint8Array.prototype.indexOf.call(s,t,n):Uint8Array.prototype.lastIndexOf.call(s,t,n):P(s,[t],n,u,h);throw new TypeError("val must be string, number or Buffer")}function P(s,t,n,u,h){let d=1,y=s.length,B=t.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(s.length<2||t.length<2)return-1;d=2,y/=2,B/=2,n/=2}function k(N,O){return d===1?N[O]:N.readUInt16BE(O*d)}let C;if(h){let N=-1;for(C=n;C<y;C++)if(k(s,C)===k(t,N===-1?0:C-N)){if(N===-1&&(N=C),C-N+1===B)return N*d}else N!==-1&&(C-=C-N),N=-1}else for(n+B>y&&(n=y-B),C=n;C>=0;C--){let N=!0;for(let O=0;O<B;O++)if(k(s,C+O)!==k(t,O)){N=!1;break}if(N)return C}return-1}f.prototype.includes=function(t,n,u){return this.indexOf(t,n,u)!==-1},f.prototype.indexOf=function(t,n,u){return L(this,t,n,u,!0)},f.prototype.lastIndexOf=function(t,n,u){return L(this,t,n,u,!1)};function Tt(s,t,n,u){n=Number(n)||0;const h=s.length-n;u?(u=Number(u),u>h&&(u=h)):u=h;const d=t.length;u>d/2&&(u=d/2);let y;for(y=0;y<u;++y){const B=parseInt(t.substr(y*2,2),16);if(Lt(B))return y;s[n+y]=B}return y}function It(s,t,n,u){return nt(At(t,s.length-n),s,n,u)}function De(s,t,n,u){return nt(pr(t),s,n,u)}function Ve(s,t,n,u){return nt(yn(t),s,n,u)}function tt(s,t,n,u){return nt(mr(t,s.length-n),s,n,u)}f.prototype.write=function(t,n,u,h){if(n===void 0)h="utf8",u=this.length,n=0;else if(u===void 0&&typeof n=="string")h=n,u=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(u)?(u=u>>>0,h===void 0&&(h="utf8")):(h=u,u=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const d=this.length-n;if((u===void 0||u>d)&&(u=d),t.length>0&&(u<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");h||(h="utf8");let y=!1;for(;;)switch(h){case"hex":return Tt(this,t,n,u);case"utf8":case"utf-8":return It(this,t,n,u);case"ascii":case"latin1":case"binary":return De(this,t,n,u);case"base64":return Ve(this,t,n,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt(this,t,n,u);default:if(y)throw new TypeError("Unknown encoding: "+h);h=(""+h).toLowerCase(),y=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Bt(s,t,n){return t===0&&n===s.length?e.fromByteArray(s):e.fromByteArray(s.slice(t,n))}function Me(s,t,n){n=Math.min(s.length,n);const u=[];let h=t;for(;h<n;){const d=s[h];let y=null,B=d>239?4:d>223?3:d>191?2:1;if(h+B<=n){let k,C,N,O;switch(B){case 1:d<128&&(y=d);break;case 2:k=s[h+1],(k&192)===128&&(O=(d&31)<<6|k&63,O>127&&(y=O));break;case 3:k=s[h+1],C=s[h+2],(k&192)===128&&(C&192)===128&&(O=(d&15)<<12|(k&63)<<6|C&63,O>2047&&(O<55296||O>57343)&&(y=O));break;case 4:k=s[h+1],C=s[h+2],N=s[h+3],(k&192)===128&&(C&192)===128&&(N&192)===128&&(O=(d&15)<<18|(k&63)<<12|(C&63)<<6|N&63,O>65535&&O<1114112&&(y=O))}}y===null?(y=65533,B=1):y>65535&&(y-=65536,u.push(y>>>10&1023|55296),y=56320|y&1023),u.push(y),h+=B}return ur(u)}const on=4096;function ur(s){const t=s.length;if(t<=on)return String.fromCharCode.apply(String,s);let n="",u=0;for(;u<t;)n+=String.fromCharCode.apply(String,s.slice(u,u+=on));return n}function cr(s,t,n){let u="";n=Math.min(s.length,n);for(let h=t;h<n;++h)u+=String.fromCharCode(s[h]&127);return u}function fr(s,t,n){let u="";n=Math.min(s.length,n);for(let h=t;h<n;++h)u+=String.fromCharCode(s[h]);return u}function hr(s,t,n){const u=s.length;(!t||t<0)&&(t=0),(!n||n<0||n>u)&&(n=u);let h="";for(let d=t;d<n;++d)h+=Er[s[d]];return h}function lr(s,t,n){const u=s.slice(t,n);let h="";for(let d=0;d<u.length-1;d+=2)h+=String.fromCharCode(u[d]+u[d+1]*256);return h}f.prototype.slice=function(t,n){const u=this.length;t=~~t,n=n===void 0?u:~~n,t<0?(t+=u,t<0&&(t=0)):t>u&&(t=u),n<0?(n+=u,n<0&&(n=0)):n>u&&(n=u),n<t&&(n=t);const h=this.subarray(t,n);return Object.setPrototypeOf(h,f.prototype),h};function U(s,t,n){if(s%1!==0||s<0)throw new RangeError("offset is not uint");if(s+t>n)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(t,n,u){t=t>>>0,n=n>>>0,u||U(t,n,this.length);let h=this[t],d=1,y=0;for(;++y<n&&(d*=256);)h+=this[t+y]*d;return h},f.prototype.readUintBE=f.prototype.readUIntBE=function(t,n,u){t=t>>>0,n=n>>>0,u||U(t,n,this.length);let h=this[t+--n],d=1;for(;n>0&&(d*=256);)h+=this[t+--n]*d;return h},f.prototype.readUint8=f.prototype.readUInt8=function(t,n){return t=t>>>0,n||U(t,1,this.length),this[t]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(t,n){return t=t>>>0,n||U(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(t,n){return t=t>>>0,n||U(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(t,n){return t=t>>>0,n||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(t,n){return t=t>>>0,n||U(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readBigUInt64LE=se(function(t){t=t>>>0,ve(t,"offset");const n=this[t],u=this[t+7];(n===void 0||u===void 0)&&Pe(t,this.length-8);const h=n+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,d=this[++t]+this[++t]*2**8+this[++t]*2**16+u*2**24;return BigInt(h)+(BigInt(d)<<BigInt(32))}),f.prototype.readBigUInt64BE=se(function(t){t=t>>>0,ve(t,"offset");const n=this[t],u=this[t+7];(n===void 0||u===void 0)&&Pe(t,this.length-8);const h=n*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],d=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+u;return(BigInt(h)<<BigInt(32))+BigInt(d)}),f.prototype.readIntLE=function(t,n,u){t=t>>>0,n=n>>>0,u||U(t,n,this.length);let h=this[t],d=1,y=0;for(;++y<n&&(d*=256);)h+=this[t+y]*d;return d*=128,h>=d&&(h-=Math.pow(2,8*n)),h},f.prototype.readIntBE=function(t,n,u){t=t>>>0,n=n>>>0,u||U(t,n,this.length);let h=n,d=1,y=this[t+--h];for(;h>0&&(d*=256);)y+=this[t+--h]*d;return d*=128,y>=d&&(y-=Math.pow(2,8*n)),y},f.prototype.readInt8=function(t,n){return t=t>>>0,n||U(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},f.prototype.readInt16LE=function(t,n){t=t>>>0,n||U(t,2,this.length);const u=this[t]|this[t+1]<<8;return u&32768?u|4294901760:u},f.prototype.readInt16BE=function(t,n){t=t>>>0,n||U(t,2,this.length);const u=this[t+1]|this[t]<<8;return u&32768?u|4294901760:u},f.prototype.readInt32LE=function(t,n){return t=t>>>0,n||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,n){return t=t>>>0,n||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readBigInt64LE=se(function(t){t=t>>>0,ve(t,"offset");const n=this[t],u=this[t+7];(n===void 0||u===void 0)&&Pe(t,this.length-8);const h=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(u<<24);return(BigInt(h)<<BigInt(32))+BigInt(n+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}),f.prototype.readBigInt64BE=se(function(t){t=t>>>0,ve(t,"offset");const n=this[t],u=this[t+7];(n===void 0||u===void 0)&&Pe(t,this.length-8);const h=(n<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(h)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+u)}),f.prototype.readFloatLE=function(t,n){return t=t>>>0,n||U(t,4,this.length),r.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,n){return t=t>>>0,n||U(t,4,this.length),r.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,n){return t=t>>>0,n||U(t,8,this.length),r.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,n){return t=t>>>0,n||U(t,8,this.length),r.read(this,t,!1,52,8)};function D(s,t,n,u,h,d){if(!f.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>h||t<d)throw new RangeError('"value" argument is out of bounds');if(n+u>s.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(t,n,u,h){if(t=+t,n=n>>>0,u=u>>>0,!h){const B=Math.pow(2,8*u)-1;D(this,t,n,u,B,0)}let d=1,y=0;for(this[n]=t&255;++y<u&&(d*=256);)this[n+y]=t/d&255;return n+u},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(t,n,u,h){if(t=+t,n=n>>>0,u=u>>>0,!h){const B=Math.pow(2,8*u)-1;D(this,t,n,u,B,0)}let d=u-1,y=1;for(this[n+d]=t&255;--d>=0&&(y*=256);)this[n+d]=t/y&255;return n+u},f.prototype.writeUint8=f.prototype.writeUInt8=function(t,n,u){return t=+t,n=n>>>0,u||D(this,t,n,1,255,0),this[n]=t&255,n+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(t,n,u){return t=+t,n=n>>>0,u||D(this,t,n,2,65535,0),this[n]=t&255,this[n+1]=t>>>8,n+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(t,n,u){return t=+t,n=n>>>0,u||D(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=t&255,n+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(t,n,u){return t=+t,n=n>>>0,u||D(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t&255,n+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(t,n,u){return t=+t,n=n>>>0,u||D(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4};function un(s,t,n,u,h){dn(t,u,h,s,n,7);let d=Number(t&BigInt(4294967295));s[n++]=d,d=d>>8,s[n++]=d,d=d>>8,s[n++]=d,d=d>>8,s[n++]=d;let y=Number(t>>BigInt(32)&BigInt(4294967295));return s[n++]=y,y=y>>8,s[n++]=y,y=y>>8,s[n++]=y,y=y>>8,s[n++]=y,n}function cn(s,t,n,u,h){dn(t,u,h,s,n,7);let d=Number(t&BigInt(4294967295));s[n+7]=d,d=d>>8,s[n+6]=d,d=d>>8,s[n+5]=d,d=d>>8,s[n+4]=d;let y=Number(t>>BigInt(32)&BigInt(4294967295));return s[n+3]=y,y=y>>8,s[n+2]=y,y=y>>8,s[n+1]=y,y=y>>8,s[n]=y,n+8}f.prototype.writeBigUInt64LE=se(function(t,n=0){return un(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=se(function(t,n=0){return cn(this,t,n,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(t,n,u,h){if(t=+t,n=n>>>0,!h){const k=Math.pow(2,8*u-1);D(this,t,n,u,k-1,-k)}let d=0,y=1,B=0;for(this[n]=t&255;++d<u&&(y*=256);)t<0&&B===0&&this[n+d-1]!==0&&(B=1),this[n+d]=(t/y>>0)-B&255;return n+u},f.prototype.writeIntBE=function(t,n,u,h){if(t=+t,n=n>>>0,!h){const k=Math.pow(2,8*u-1);D(this,t,n,u,k-1,-k)}let d=u-1,y=1,B=0;for(this[n+d]=t&255;--d>=0&&(y*=256);)t<0&&B===0&&this[n+d+1]!==0&&(B=1),this[n+d]=(t/y>>0)-B&255;return n+u},f.prototype.writeInt8=function(t,n,u){return t=+t,n=n>>>0,u||D(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=t&255,n+1},f.prototype.writeInt16LE=function(t,n,u){return t=+t,n=n>>>0,u||D(this,t,n,2,32767,-32768),this[n]=t&255,this[n+1]=t>>>8,n+2},f.prototype.writeInt16BE=function(t,n,u){return t=+t,n=n>>>0,u||D(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=t&255,n+2},f.prototype.writeInt32LE=function(t,n,u){return t=+t,n=n>>>0,u||D(this,t,n,4,2147483647,-2147483648),this[n]=t&255,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},f.prototype.writeInt32BE=function(t,n,u){return t=+t,n=n>>>0,u||D(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4},f.prototype.writeBigInt64LE=se(function(t,n=0){return un(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=se(function(t,n=0){return cn(this,t,n,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fn(s,t,n,u,h,d){if(n+u>s.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function hn(s,t,n,u,h){return t=+t,n=n>>>0,h||fn(s,t,n,4),r.write(s,t,n,u,23,4),n+4}f.prototype.writeFloatLE=function(t,n,u){return hn(this,t,n,!0,u)},f.prototype.writeFloatBE=function(t,n,u){return hn(this,t,n,!1,u)};function ln(s,t,n,u,h){return t=+t,n=n>>>0,h||fn(s,t,n,8),r.write(s,t,n,u,52,8),n+8}f.prototype.writeDoubleLE=function(t,n,u){return ln(this,t,n,!0,u)},f.prototype.writeDoubleBE=function(t,n,u){return ln(this,t,n,!1,u)},f.prototype.copy=function(t,n,u,h){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(u||(u=0),!h&&h!==0&&(h=this.length),n>=t.length&&(n=t.length),n||(n=0),h>0&&h<u&&(h=u),h===u||t.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("sourceEnd out of bounds");h>this.length&&(h=this.length),t.length-n<h-u&&(h=t.length-n+u);const d=h-u;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,u,h):Uint8Array.prototype.set.call(t,this.subarray(u,h),n),d},f.prototype.fill=function(t,n,u,h){if(typeof t=="string"){if(typeof n=="string"?(h=n,n=0,u=this.length):typeof u=="string"&&(h=u,u=this.length),h!==void 0&&typeof h!="string")throw new TypeError("encoding must be a string");if(typeof h=="string"&&!f.isEncoding(h))throw new TypeError("Unknown encoding: "+h);if(t.length===1){const y=t.charCodeAt(0);(h==="utf8"&&y<128||h==="latin1")&&(t=y)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(n<0||this.length<n||this.length<u)throw new RangeError("Out of range index");if(u<=n)return this;n=n>>>0,u=u===void 0?this.length:u>>>0,t||(t=0);let d;if(typeof t=="number")for(d=n;d<u;++d)this[d]=t;else{const y=f.isBuffer(t)?t:f.from(t,h),B=y.length;if(B===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(d=0;d<u-n;++d)this[d+n]=y[d%B]}return this};const Be={};function vt(s,t,n){Be[s]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${s}]`,this.stack,delete this.name}get code(){return s}set code(h){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:h,writable:!0})}toString(){return`${this.name} [${s}]: ${this.message}`}}}vt("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?`${s} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),vt("ERR_INVALID_ARG_TYPE",function(s,t){return`The "${s}" argument must be of type number. Received type ${typeof t}`},TypeError),vt("ERR_OUT_OF_RANGE",function(s,t,n){let u=`The value of "${s}" is out of range.`,h=n;return Number.isInteger(n)&&Math.abs(n)>2**32?h=an(String(n)):typeof n=="bigint"&&(h=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(h=an(h)),h+="n"),u+=` It must be ${t}. Received ${h}`,u},RangeError);function an(s){let t="",n=s.length;const u=s[0]==="-"?1:0;for(;n>=u+4;n-=3)t=`_${s.slice(n-3,n)}${t}`;return`${s.slice(0,n)}${t}`}function ar(s,t,n){ve(t,"offset"),(s[t]===void 0||s[t+n]===void 0)&&Pe(t,s.length-(n+1))}function dn(s,t,n,u,h,d){if(s>n||s<t){const y=typeof t=="bigint"?"n":"";let B;throw d>3?t===0||t===BigInt(0)?B=`>= 0${y} and < 2${y} ** ${(d+1)*8}${y}`:B=`>= -(2${y} ** ${(d+1)*8-1}${y}) and < 2 ** ${(d+1)*8-1}${y}`:B=`>= ${t}${y} and <= ${n}${y}`,new Be.ERR_OUT_OF_RANGE("value",B,s)}ar(u,h,d)}function ve(s,t){if(typeof s!="number")throw new Be.ERR_INVALID_ARG_TYPE(t,"number",s)}function Pe(s,t,n){throw Math.floor(s)!==s?(ve(s,n),new Be.ERR_OUT_OF_RANGE(n||"offset","an integer",s)):t<0?new Be.ERR_BUFFER_OUT_OF_BOUNDS:new Be.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,s)}const dr=/[^+/0-9A-Za-z-_]/g;function yr(s){if(s=s.split("=")[0],s=s.trim().replace(dr,""),s.length<2)return"";for(;s.length%4!==0;)s=s+"=";return s}function At(s,t){t=t||1/0;let n;const u=s.length;let h=null;const d=[];for(let y=0;y<u;++y){if(n=s.charCodeAt(y),n>55295&&n<57344){if(!h){if(n>56319){(t-=3)>-1&&d.push(239,191,189);continue}else if(y+1===u){(t-=3)>-1&&d.push(239,191,189);continue}h=n;continue}if(n<56320){(t-=3)>-1&&d.push(239,191,189),h=n;continue}n=(h-55296<<10|n-56320)+65536}else h&&(t-=3)>-1&&d.push(239,191,189);if(h=null,n<128){if((t-=1)<0)break;d.push(n)}else if(n<2048){if((t-=2)<0)break;d.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;d.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;d.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return d}function pr(s){const t=[];for(let n=0;n<s.length;++n)t.push(s.charCodeAt(n)&255);return t}function mr(s,t){let n,u,h;const d=[];for(let y=0;y<s.length&&!((t-=2)<0);++y)n=s.charCodeAt(y),u=n>>8,h=n%256,d.push(h),d.push(u);return d}function yn(s){return e.toByteArray(yr(s))}function nt(s,t,n,u){let h;for(h=0;h<u&&!(h+n>=t.length||h>=s.length);++h)t[h+n]=s[h];return h}function W(s,t){return s instanceof t||s!=null&&s.constructor!=null&&s.constructor.name!=null&&s.constructor.name===t.name}function Lt(s){return s!==s}const Er=function(){const s="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const u=n*16;for(let h=0;h<16;++h)t[u+h]=s[n]+s[h]}return t}();function se(s){return typeof BigInt>"u"?gr:s}function gr(){throw new Error("BigInt not supported")}})(mt);var br={},Un={},ae={},Et={},$n={};$n.supports=function(...e){const r=e.reduce((i,c)=>Object.assign(i,c),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})};var Dn={},z=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Ie={};let St=null;var Vn=function(){return St===null&&(St={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),St},ze={},Wt={};const Ot=z,_r=new Set(["buffer","view","utf8"]);class Tr{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!_r.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new Ot(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new Ot(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new Ot(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}Wt.Encoding=Tr;const{Buffer:Xt}=mt||{},{Encoding:Jt}=Wt,Ir=Vn;class Zt extends Jt{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new zt({encode:this.encode,decode:e=>this.decode(Xt.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class zt extends Jt{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new Zt({encode:e=>{const r=this.encode(e);return Xt.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}class Br extends Jt{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new Zt({encode:e=>Xt.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:e,textDecoder:r}=Ir();return new zt({encode:i=>e.encode(this.encode(i)),decode:i=>this.decode(r.decode(i)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}ze.BufferFormat=Zt;ze.ViewFormat=zt;ze.UTF8Format=Br;const{Buffer:$}=mt||{Buffer:{isBuffer:()=>!1}},{textEncoder:Mn,textDecoder:pn}=Vn(),{BufferFormat:Qe,ViewFormat:Qt,UTF8Format:Pn}=ze,yt=o=>o;Ie.utf8=new Pn({encode:function(o){return $.isBuffer(o)?o.toString("utf8"):ArrayBuffer.isView(o)?pn.decode(o):String(o)},decode:yt,name:"utf8",createViewTranscoder(){return new Qt({encode:function(o){return ArrayBuffer.isView(o)?o:Mn.encode(o)},decode:function(o){return pn.decode(o)},name:`${this.name}+view`})},createBufferTranscoder(){return new Qe({encode:function(o){return $.isBuffer(o)?o:ArrayBuffer.isView(o)?$.from(o.buffer,o.byteOffset,o.byteLength):$.from(String(o),"utf8")},decode:function(o){return o.toString("utf8")},name:`${this.name}+buffer`})}});Ie.json=new Pn({encode:JSON.stringify,decode:JSON.parse,name:"json"});Ie.buffer=new Qe({encode:function(o){return $.isBuffer(o)?o:ArrayBuffer.isView(o)?$.from(o.buffer,o.byteOffset,o.byteLength):$.from(String(o),"utf8")},decode:yt,name:"buffer",createViewTranscoder(){return new Qt({encode:function(o){return ArrayBuffer.isView(o)?o:$.from(String(o),"utf8")},decode:function(o){return $.from(o.buffer,o.byteOffset,o.byteLength)},name:`${this.name}+view`})}});Ie.view=new Qt({encode:function(o){return ArrayBuffer.isView(o)?o:Mn.encode(o)},decode:yt,name:"view",createBufferTranscoder(){return new Qe({encode:function(o){return $.isBuffer(o)?o:ArrayBuffer.isView(o)?$.from(o.buffer,o.byteOffset,o.byteLength):$.from(String(o),"utf8")},decode:yt,name:`${this.name}+buffer`})}});Ie.hex=new Qe({encode:function(o){return $.isBuffer(o)?o:$.from(String(o),"hex")},decode:function(o){return o.toString("hex")},name:"hex"});Ie.base64=new Qe({encode:function(o){return $.isBuffer(o)?o:$.from(String(o),"base64")},decode:function(o){return o.toString("base64")},name:"base64"});const mn=z,pt=Ie,{Encoding:vr}=Wt,{BufferFormat:Ar,ViewFormat:Lr,UTF8Format:Sr}=ze,Ke=Symbol("formats"),rt=Symbol("encodings"),Or=new Set(["buffer","view","utf8"]);class Fr{constructor(e){if(Array.isArray(e)){if(!e.every(r=>Or.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[rt]=new Map,this[Ke]=new Set(e);for(const r in pt)try{this.encoding(r)}catch(i){if(i.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw i}}encodings(){return Array.from(new Set(this[rt].values()))}encoding(e){let r=this[rt].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=Rr[e],!r)throw new mn(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=Cr(e)}const{name:i,format:c}=r;if(!this[Ke].has(c))if(this[Ke].has("view"))r=r.createViewTranscoder();else if(this[Ke].has("buffer"))r=r.createBufferTranscoder();else if(this[Ke].has("utf8"))r=r.createUTF8Transcoder();else throw new mn(`Encoding '${i}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(const l of[e,i,r.name,r.commonName])this[rt].set(l,r)}return r}}Dn.Transcoder=Fr;function Cr(o){if(o instanceof vr)return o;const e="type"in o&&typeof o.type=="string"?o.type:void 0,r=o.name||e||`anonymous-${Ur++}`;switch(kr(o)){case"view":return new Lr({...o,name:r});case"utf8":return new Sr({...o,name:r});case"buffer":return new Ar({...o,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function kr(o){return"format"in o&&o.format!==void 0?o.format:"buffer"in o&&typeof o.buffer=="boolean"?o.buffer?"buffer":"utf8":"code"in o&&Number.isInteger(o.code)?"view":"buffer"}const Nr={binary:pt.buffer,"utf-8":pt.utf8},Rr={...pt,...Nr};let Ur=0;var en={exports:{}},Ne=typeof Reflect=="object"?Reflect:null,En=Ne&&typeof Ne.apply=="function"?Ne.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},dt;Ne&&typeof Ne.ownKeys=="function"?dt=Ne.ownKeys:Object.getOwnPropertySymbols?dt=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:dt=function(e){return Object.getOwnPropertyNames(e)};function $r(o){console&&console.warn&&console.warn(o)}var Kn=Number.isNaN||function(e){return e!==e};function S(){S.init.call(this)}en.exports=S;en.exports.once=Pr;S.EventEmitter=S;S.prototype._events=void 0;S.prototype._eventsCount=0;S.prototype._maxListeners=void 0;var gn=10;function gt(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return gn},set:function(o){if(typeof o!="number"||o<0||Kn(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");gn=o}});S.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};S.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Kn(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function jn(o){return o._maxListeners===void 0?S.defaultMaxListeners:o._maxListeners}S.prototype.getMaxListeners=function(){return jn(this)};S.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var c=e==="error",l=this._events;if(l!==void 0)c=c&&l.error===void 0;else if(!c)return!1;if(c){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var f=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw f.context=a,f}var m=l[e];if(m===void 0)return!1;if(typeof m=="function")En(m,this,r);else for(var p=m.length,b=Wn(m,p),i=0;i<p;++i)En(b[i],this,r);return!0};function qn(o,e,r,i){var c,l,a;if(gt(r),l=o._events,l===void 0?(l=o._events=Object.create(null),o._eventsCount=0):(l.newListener!==void 0&&(o.emit("newListener",e,r.listener?r.listener:r),l=o._events),a=l[e]),a===void 0)a=l[e]=r,++o._eventsCount;else if(typeof a=="function"?a=l[e]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),c=jn(o),c>0&&a.length>c&&!a.warned){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=o,f.type=e,f.count=a.length,$r(f)}return o}S.prototype.addListener=function(e,r){return qn(this,e,r,!1)};S.prototype.on=S.prototype.addListener;S.prototype.prependListener=function(e,r){return qn(this,e,r,!0)};function Dr(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Gn(o,e,r){var i={fired:!1,wrapFn:void 0,target:o,type:e,listener:r},c=Dr.bind(i);return c.listener=r,i.wrapFn=c,c}S.prototype.once=function(e,r){return gt(r),this.on(e,Gn(this,e,r)),this};S.prototype.prependOnceListener=function(e,r){return gt(r),this.prependListener(e,Gn(this,e,r)),this};S.prototype.removeListener=function(e,r){var i,c,l,a,f;if(gt(r),c=this._events,c===void 0)return this;if(i=c[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete c[e],c.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(l=-1,a=i.length-1;a>=0;a--)if(i[a]===r||i[a].listener===r){f=i[a].listener,l=a;break}if(l<0)return this;l===0?i.shift():Vr(i,l),i.length===1&&(c[e]=i[0]),c.removeListener!==void 0&&this.emit("removeListener",e,f||r)}return this};S.prototype.off=S.prototype.removeListener;S.prototype.removeAllListeners=function(e){var r,i,c;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var l=Object.keys(i),a;for(c=0;c<l.length;++c)a=l[c],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(c=r.length-1;c>=0;c--)this.removeListener(e,r[c]);return this};function Yn(o,e,r){var i=o._events;if(i===void 0)return[];var c=i[e];return c===void 0?[]:typeof c=="function"?r?[c.listener||c]:[c]:r?Mr(c):Wn(c,c.length)}S.prototype.listeners=function(e){return Yn(this,e,!0)};S.prototype.rawListeners=function(e){return Yn(this,e,!1)};S.listenerCount=function(o,e){return typeof o.listenerCount=="function"?o.listenerCount(e):Hn.call(o,e)};S.prototype.listenerCount=Hn;function Hn(o){var e=this._events;if(e!==void 0){var r=e[o];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}S.prototype.eventNames=function(){return this._eventsCount>0?dt(this._events):[]};function Wn(o,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=o[i];return r}function Vr(o,e){for(;e+1<o.length;e++)o[e]=o[e+1];o.pop()}function Mr(o){for(var e=new Array(o.length),r=0;r<e.length;++r)e[r]=o[r].listener||o[r];return e}function Pr(o,e){return new Promise(function(r,i){function c(a){o.removeListener(e,l),i(a)}function l(){typeof o.removeListener=="function"&&o.removeListener("error",c),r([].slice.call(arguments))}Xn(o,e,l,{once:!0}),e!=="error"&&Kr(o,c,{once:!0})})}function Kr(o,e,r){typeof o.on=="function"&&Xn(o,"error",e,r)}function Xn(o,e,r,i){if(typeof o.on=="function")i.once?o.once(e,r):o.on(e,r);else if(typeof o.addEventListener=="function")o.addEventListener(e,function c(l){i.once&&o.removeEventListener(e,c),r(l)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}var $e={},jr=typeof queueMicrotask=="function"?queueMicrotask:o=>Promise.resolve().then(o),wn=jr;$e.fromCallback=function(o,e){if(o===void 0){var r=new Promise(function(i,c){o=function(l,a){l?c(l):i(a)}});o[e!==void 0?e:"promise"]=r}else if(typeof o!="function")throw new TypeError("Callback must be a function");return o};$e.fromPromise=function(o,e){if(e===void 0)return o;o.then(function(r){wn(()=>e(null,r))}).catch(function(r){wn(()=>e(r))})};var Q={},et={};et.getCallback=function(o,e){return typeof o=="function"?o:e};et.getOptions=function(o,e){return typeof o=="object"&&o!==null?o:e!==void 0?e:{}};const{fromCallback:Ft}=$e,j=z,{getOptions:Ct,getCallback:xn}=et,de=Symbol("promise"),Ae=Symbol("callback"),X=Symbol("working"),be=Symbol("handleOne"),ie=Symbol("handleMany"),kt=Symbol("autoClose"),le=Symbol("finishWork"),Z=Symbol("returnMany"),oe=Symbol("closing"),je=Symbol("handleClose"),it=Symbol("closed"),qe=Symbol("closeCallbacks"),he=Symbol("keyEncoding"),Te=Symbol("valueEncoding"),Nt=Symbol("abortOnClose"),st=Symbol("legacy"),Rt=Symbol("keys"),Ut=Symbol("values"),ue=Symbol("limit"),Y=Symbol("count"),ot=Object.freeze({}),qr=()=>{};let bn=!1;class tn{constructor(e,r,i){if(typeof e!="object"||e===null){const c=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${c}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[it]=!1,this[qe]=[],this[X]=!1,this[oe]=!1,this[kt]=!1,this[Ae]=null,this[be]=this[be].bind(this),this[ie]=this[ie].bind(this),this[je]=this[je].bind(this),this[he]=r[he],this[Te]=r[Te],this[st]=i,this[ue]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[Y]=0,this[Nt]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[Y]}get limit(){return this[ue]}next(e){let r;if(e===void 0)r=new Promise((i,c)=>{e=(l,a,f)=>{l?c(l):this[st]?a===void 0&&f===void 0?i():i([a,f]):i(a)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[oe]?this.nextTick(e,new j("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[X]?this.nextTick(e,new j("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[X]=!0,this[Ae]=e,this[Y]>=this[ue]?this.nextTick(this[be],null):this._next(this[be])),r}_next(e){this.nextTick(e)}nextv(e,r,i){return i=xn(r,i),i=Ft(i,de),r=Ct(r,ot),Number.isInteger(e)?(this[oe]?this.nextTick(i,new j("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[X]?this.nextTick(i,new j("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[ue]<1/0&&(e=Math.min(e,this[ue]-this[Y])),this[X]=!0,this[Ae]=i,e<=0?this.nextTick(this[ie],null,[]):this._nextv(e,r,this[ie])),i[de]):(this.nextTick(i,new TypeError("The first argument 'size' must be an integer")),i[de])}_nextv(e,r,i){const c=[],l=(a,f,m)=>{if(a)return i(a);if(this[st]?f===void 0&&m===void 0:f===void 0)return i(null,c);c.push(this[st]?[f,m]:f),c.length===e?i(null,c):this._next(l)};this._next(l)}all(e,r){return r=xn(e,r),r=Ft(r,de),e=Ct(e,ot),this[oe]?this.nextTick(r,new j("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[X]?this.nextTick(r,new j("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[X]=!0,this[Ae]=r,this[kt]=!0,this[Y]>=this[ue]?this.nextTick(this[ie],null,[]):this._all(e,this[ie])),r[de]}_all(e,r){let i=this[Y];const c=[],l=()=>{const f=this[ue]<1/0?Math.min(1e3,this[ue]-i):1e3;f<=0?this.nextTick(r,null,c):this._nextv(f,ot,a)},a=(f,m)=>{f?r(f):m.length===0?r(null,c):(c.push.apply(c,m),i+=m.length,l())};l()}[le](){const e=this[Ae];return this[Nt]&&e===null?qr:(this[X]=!1,this[Ae]=null,this[oe]&&this._close(this[je]),e)}[Z](e,r,i){this[kt]?this.close(e.bind(null,r,i)):e(r,i)}seek(e,r){if(r=Ct(r,ot),!this[oe]){if(this[X])throw new j("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const i=this.db.keyEncoding(r.keyEncoding||this[he]),c=i.format;r.keyEncoding!==c&&(r={...r,keyEncoding:c});const l=this.db.prefixKey(i.encode(e),c);this._seek(l,r)}}}_seek(e,r){throw new j("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=Ft(e,de),this[it]?this.nextTick(e):this[oe]?this[qe].push(e):(this[oe]=!0,this[qe].push(e),this[X]?this[Nt]&&this[le]()(new j("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[je])),e[de]}_close(e){this.nextTick(e)}[je](){this[it]=!0,this.db.detachResource(this);const e=this[qe];this[qe]=[];for(const r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[it]||await this.close()}}}class wt extends tn{constructor(e,r){super(e,r,!0),this[Rt]=r.keys!==!1,this[Ut]=r.values!==!1}[be](e,r,i){const c=this[le]();if(e)return c(e);try{r=this[Rt]&&r!==void 0?this[he].decode(r):void 0,i=this[Ut]&&i!==void 0?this[Te].decode(i):void 0}catch(l){return c(new Re("entry",l))}r===void 0&&i===void 0||this[Y]++,c(null,r,i)}[ie](e,r){const i=this[le]();if(e)return this[Z](i,e);try{for(const c of r){const l=c[0],a=c[1];c[0]=this[Rt]&&l!==void 0?this[he].decode(l):void 0,c[1]=this[Ut]&&a!==void 0?this[Te].decode(a):void 0}}catch(c){return this[Z](i,new Re("entries",c))}this[Y]+=r.length,this[Z](i,null,r)}end(e){return!bn&&typeof console<"u"&&(bn=!0,console.warn(new j("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}}class Gr extends tn{constructor(e,r){super(e,r,!1)}[be](e,r){const i=this[le]();if(e)return i(e);try{r=r!==void 0?this[he].decode(r):void 0}catch(c){return i(new Re("key",c))}r!==void 0&&this[Y]++,i(null,r)}[ie](e,r){const i=this[le]();if(e)return this[Z](i,e);try{for(let c=0;c<r.length;c++){const l=r[c];r[c]=l!==void 0?this[he].decode(l):void 0}}catch(c){return this[Z](i,new Re("keys",c))}this[Y]+=r.length,this[Z](i,null,r)}}class Yr extends tn{constructor(e,r){super(e,r,!1)}[be](e,r){const i=this[le]();if(e)return i(e);try{r=r!==void 0?this[Te].decode(r):void 0}catch(c){return i(new Re("value",c))}r!==void 0&&this[Y]++,i(null,r)}[ie](e,r){const i=this[le]();if(e)return this[Z](i,e);try{for(let c=0;c<r.length;c++){const l=r[c];r[c]=l!==void 0?this[Te].decode(l):void 0}}catch(c){return this[Z](i,new Re("values",c))}this[Y]+=r.length,this[Z](i,null,r)}}class Re extends j{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}}for(const o of["_ended property","_nexting property","_end method"])Object.defineProperty(wt.prototype,o.split(" ")[0],{get(){throw new j(`The ${o} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new j(`The ${o} has been removed`,{code:"LEVEL_LEGACY"})}});wt.keyEncoding=he;wt.valueEncoding=Te;Q.AbstractIterator=wt;Q.AbstractKeyIterator=Gr;Q.AbstractValueIterator=Yr;var nn={};const{AbstractKeyIterator:Hr,AbstractValueIterator:Wr}=Q,xe=Symbol("iterator"),Ge=Symbol("callback"),Ue=Symbol("handleOne"),_e=Symbol("handleMany");class Gt extends Hr{constructor(e,r){super(e,r),this[xe]=e.iterator({...r,keys:!0,values:!1}),this[Ue]=this[Ue].bind(this),this[_e]=this[_e].bind(this)}}class Jn extends Wr{constructor(e,r){super(e,r),this[xe]=e.iterator({...r,keys:!1,values:!0}),this[Ue]=this[Ue].bind(this),this[_e]=this[_e].bind(this)}}for(const o of[Gt,Jn]){const e=o===Gt,r=e?i=>i[0]:i=>i[1];o.prototype._next=function(i){this[Ge]=i,this[xe].next(this[Ue])},o.prototype[Ue]=function(i,c,l){const a=this[Ge];i?a(i):a(null,e?c:l)},o.prototype._nextv=function(i,c,l){this[Ge]=l,this[xe].nextv(i,c,this[_e])},o.prototype._all=function(i,c){this[Ge]=c,this[xe].all(i,this[_e])},o.prototype[_e]=function(i,c){const l=this[Ge];i?l(i):l(null,c.map(r))},o.prototype._seek=function(i,c){this[xe].seek(i,c)},o.prototype._close=function(i){this[xe].close(i)}}nn.DefaultKeyIterator=Gt;nn.DefaultValueIterator=Jn;var xt={};const{AbstractIterator:Xr,AbstractKeyIterator:Jr,AbstractValueIterator:Zr}=Q,$t=z,V=Symbol("nut"),bt=Symbol("undefer"),_t=Symbol("factory");class Zn extends Xr{constructor(e,r){super(e,r),this[V]=null,this[_t]=()=>e.iterator(r),this.db.defer(()=>this[bt]())}}class zn extends Jr{constructor(e,r){super(e,r),this[V]=null,this[_t]=()=>e.keys(r),this.db.defer(()=>this[bt]())}}class Qn extends Zr{constructor(e,r){super(e,r),this[V]=null,this[_t]=()=>e.values(r),this.db.defer(()=>this[bt]())}}for(const o of[Zn,zn,Qn])o.prototype[bt]=function(){this.db.status==="open"&&(this[V]=this[_t]())},o.prototype._next=function(e){this[V]!==null?this[V].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new $t("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},o.prototype._nextv=function(e,r,i){this[V]!==null?this[V].nextv(e,r,i):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,i)):this.nextTick(i,new $t("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},o.prototype._all=function(e,r){this[V]!==null?this[V].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new $t("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},o.prototype._seek=function(e,r){this[V]!==null?this[V]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},o.prototype._close=function(e){this[V]!==null?this[V].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};xt.DeferredIterator=Zn;xt.DeferredKeyIterator=zn;xt.DeferredValueIterator=Qn;var er={},rn={};const{fromCallback:_n}=$e,ut=z,{getCallback:zr,getOptions:Qr}=et,ct=Symbol("promise"),G=Symbol("status"),Le=Symbol("operations"),Ye=Symbol("finishClose"),Se=Symbol("closeCallbacks");class ei{constructor(e){if(typeof e!="object"||e===null){const r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[Le]=[],this[Se]=[],this[G]="open",this[Ye]=this[Ye].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[Le].length}put(e,r,i){if(this[G]!=="open")throw new ut("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const c=this.db._checkKey(e)||this.db._checkValue(r);if(c)throw c;const l=i&&i.sublevel!=null?i.sublevel:this.db,a=i,f=l.keyEncoding(i&&i.keyEncoding),m=l.valueEncoding(i&&i.valueEncoding),p=f.format;i={...i,keyEncoding:p,valueEncoding:m.format},l!==this.db&&(i.sublevel=null);const b=l.prefixKey(f.encode(e),p),g=m.encode(r);return this._put(b,g,i),this[Le].push({...a,type:"put",key:e,value:r}),this}_put(e,r,i){}del(e,r){if(this[G]!=="open")throw new ut("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const i=this.db._checkKey(e);if(i)throw i;const c=r&&r.sublevel!=null?r.sublevel:this.db,l=r,a=c.keyEncoding(r&&r.keyEncoding),f=a.format;return r={...r,keyEncoding:f},c!==this.db&&(r.sublevel=null),this._del(c.prefixKey(a.encode(e),f),r),this[Le].push({...l,type:"del",key:e}),this}_del(e,r){}clear(){if(this[G]!=="open")throw new ut("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[Le]=[],this}_clear(){}write(e,r){return r=zr(e,r),r=_n(r,ct),e=Qr(e),this[G]!=="open"?this.nextTick(r,new ut("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[G]="writing",this._write(e,i=>{this[G]="closing",this[Se].push(()=>r(i)),i||this.db.emit("batch",this[Le]),this._close(this[Ye])})),r[ct]}_write(e,r){}close(e){return e=_n(e,ct),this[G]==="closing"?this[Se].push(e):this[G]==="closed"?this.nextTick(e):(this[Se].push(e),this[G]!=="writing"&&(this[G]="closing",this._close(this[Ye]))),e[ct]}_close(e){this.nextTick(e)}[Ye](){this[G]="closed",this.db.detachResource(this);const e=this[Se];this[Se]=[];for(const r of e)r()}}rn.AbstractChainedBatch=ei;const{AbstractChainedBatch:ti}=rn,ni=z,Oe=Symbol("encoded");class ri extends ti{constructor(e){super(e),this[Oe]=[]}_put(e,r,i){this[Oe].push({...i,type:"put",key:e,value:r})}_del(e,r){this[Oe].push({...r,type:"del",key:e})}_clear(){this[Oe]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[Oe].length===0?this.nextTick(r):this.db._batch(this[Oe],e,r):this.nextTick(r,new ni("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}er.DefaultChainedBatch=ri;const Tn=z,ii=Object.prototype.hasOwnProperty,si=new Set(["lt","lte","gt","gte"]);var oi=function(o,e){const r={};for(const i in o)if(!!ii.call(o,i)&&!(i==="keyEncoding"||i==="valueEncoding")){if(i==="start"||i==="end")throw new Tn(`The legacy range option '${i}' has been removed`,{code:"LEVEL_LEGACY"});if(i==="encoding")throw new Tn("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});si.has(i)?r[i]=e.encode(o[i]):r[i]=o[i]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let In;var tr=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:xr):o=>(In||(In=Promise.resolve())).then(o).catch(e=>setTimeout(()=>{throw e},0)),Dt,Bn;function ui(){if(Bn)return Dt;Bn=1;const o=tr;return Dt=function(e,...r){r.length===0?o(e):o(()=>e(...r))},Dt}var He={},vn;function ci(){if(vn)return He;vn=1;const{AbstractIterator:o,AbstractKeyIterator:e,AbstractValueIterator:r}=Q,i=Symbol("unfix"),c=Symbol("iterator"),l=Symbol("handleOne"),a=Symbol("handleMany"),f=Symbol("callback");class m extends o{constructor(w,x,T,A){super(w,x),this[c]=T,this[i]=A,this[l]=this[l].bind(this),this[a]=this[a].bind(this),this[f]=null}[l](w,x,T){const A=this[f];if(w)return A(w);x!==void 0&&(x=this[i](x)),A(w,x,T)}[a](w,x){const T=this[f];if(w)return T(w);for(const A of x){const M=A[0];M!==void 0&&(A[0]=this[i](M))}T(w,x)}}class p extends e{constructor(w,x,T,A){super(w,x),this[c]=T,this[i]=A,this[l]=this[l].bind(this),this[a]=this[a].bind(this),this[f]=null}[l](w,x){const T=this[f];if(w)return T(w);x!==void 0&&(x=this[i](x)),T(w,x)}[a](w,x){const T=this[f];if(w)return T(w);for(let A=0;A<x.length;A++){const M=x[A];M!==void 0&&(x[A]=this[i](M))}T(w,x)}}class b extends r{constructor(w,x,T){super(w,x),this[c]=T}}for(const g of[m,p])g.prototype._next=function(w){this[f]=w,this[c].next(this[l])},g.prototype._nextv=function(w,x,T){this[f]=T,this[c].nextv(w,x,this[a])},g.prototype._all=function(w,x){this[f]=x,this[c].all(w,this[a])};for(const g of[b])g.prototype._next=function(w){this[c].next(w)},g.prototype._nextv=function(w,x,T){this[c].nextv(w,x,T)},g.prototype._all=function(w,x){this[c].all(w,x)};for(const g of[m,p,b])g.prototype._seek=function(w,x){this[c].seek(w,x)},g.prototype._close=function(w){this[c].close(w)};return He.AbstractSublevelIterator=m,He.AbstractSublevelKeyIterator=p,He.AbstractSublevelValueIterator=b,He}var Vt,An;function fi(){if(An)return Vt;An=1;const o=z,{Buffer:e}=mt||{},{AbstractSublevelIterator:r,AbstractSublevelKeyIterator:i,AbstractSublevelValueIterator:c}=ci(),l=Symbol("prefix"),a=Symbol("upperBound"),f=Symbol("prefixRange"),m=Symbol("parent"),p=Symbol("unfix"),b=new TextEncoder,g={separator:"!"};Vt=function({AbstractLevel:F}){class R extends F{static defaults(E){if(typeof E=="string")throw new o("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(E&&E.open)throw new o("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return E==null?g:E.separator?E:{...E,separator:"!"}}constructor(E,_,L){const{separator:P,manifest:Tt,...It}=R.defaults(L);_=M(_,P);const De=P.charCodeAt(0)+1,Ve=E[m]||E;if(!b.encode(_).every(Me=>Me>De&&Me<127))throw new o(`Prefix must use bytes > ${De} < ${127}`,{code:"LEVEL_INVALID_PREFIX"});super(w(Ve,Tt),It);const tt=(E.prefix||"")+P+_+P,Bt=tt.slice(0,-1)+String.fromCharCode(De);this[m]=Ve,this[l]=new T(tt),this[a]=new T(Bt),this[p]=new A,this.nextTick=Ve.nextTick}prefixKey(E,_){if(_==="utf8")return this[l].utf8+E;if(E.byteLength===0)return this[l][_];if(_==="view"){const L=this[l].view,P=new Uint8Array(L.byteLength+E.byteLength);return P.set(L,0),P.set(E,L.byteLength),P}else{const L=this[l].buffer;return e.concat([L,E],L.byteLength+E.byteLength)}}[f](E,_){E.gte!==void 0?E.gte=this.prefixKey(E.gte,_):E.gt!==void 0?E.gt=this.prefixKey(E.gt,_):E.gte=this[l][_],E.lte!==void 0?E.lte=this.prefixKey(E.lte,_):E.lt!==void 0?E.lt=this.prefixKey(E.lt,_):E.lte=this[a][_]}get prefix(){return this[l].utf8}get db(){return this[m]}_open(E,_){this[m].open({passive:!0},_)}_put(E,_,L,P){this[m].put(E,_,L,P)}_get(E,_,L){this[m].get(E,_,L)}_getMany(E,_,L){this[m].getMany(E,_,L)}_del(E,_,L){this[m].del(E,_,L)}_batch(E,_,L){this[m].batch(E,_,L)}_clear(E,_){this[f](E,E.keyEncoding),this[m].clear(E,_)}_iterator(E){this[f](E,E.keyEncoding);const _=this[m].iterator(E),L=this[p].get(this[l].utf8.length,E.keyEncoding);return new r(this,E,_,L)}_keys(E){this[f](E,E.keyEncoding);const _=this[m].keys(E),L=this[p].get(this[l].utf8.length,E.keyEncoding);return new i(this,E,_,L)}_values(E){this[f](E,E.keyEncoding);const _=this[m].values(E);return new c(this,E,_)}}return{AbstractSublevel:R}};const w=function(F,R){return{...F.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...R,encodings:{utf8:x(F,"utf8"),buffer:x(F,"buffer"),view:x(F,"view")}}},x=function(F,R){return F.supports.encodings[R]?F.keyEncoding(R).name===R:!1};class T{constructor(R){this.utf8=R,this.view=b.encode(R),this.buffer=e?e.from(this.view.buffer,0,this.view.byteLength):{}}}class A{constructor(){this.cache=new Map}get(R,q){let E=this.cache.get(q);return E===void 0&&(q==="view"?E=function(_,L){return L.subarray(_)}.bind(null,R):E=function(_,L){return L.slice(_)}.bind(null,R),this.cache.set(q,E)),E}}const M=function(F,R){let q=0,E=F.length;for(;q<E&&F[q]===R;)q++;for(;E>q&&F[E-1]===R;)E--;return F.slice(q,E)};return Vt}const{supports:hi}=$n,{Transcoder:li}=Dn,{EventEmitter:ai}=en.exports,{fromCallback:ce}=$e,H=z,{AbstractIterator:ye}=Q,{DefaultKeyIterator:di,DefaultValueIterator:yi}=nn,{DeferredIterator:pi,DeferredKeyIterator:mi,DeferredValueIterator:Ei}=xt,{DefaultChainedBatch:Ln}=er,{getCallback:pe,getOptions:fe}=et,ft=oi,I=Symbol("promise"),ee=Symbol("landed"),me=Symbol("resources"),Mt=Symbol("closeResources"),We=Symbol("operations"),Xe=Symbol("undefer"),ht=Symbol("deferOpen"),Sn=Symbol("options"),v=Symbol("status"),Ee=Symbol("defaultOptions"),Fe=Symbol("transcoder"),lt=Symbol("keyEncoding"),Pt=Symbol("valueEncoding"),gi=()=>{};class sn extends ai{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=fe(r);const{keyEncoding:i,valueEncoding:c,passive:l,...a}=r;this[me]=new Set,this[We]=[],this[ht]=!0,this[Sn]=a,this[v]="opening",this.supports=hi(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Fe]=new li(wi(this)),this[lt]=this[Fe].encoding(i||"utf8"),this[Pt]=this[Fe].encoding(c||"utf8");for(const f of this[Fe].encodings())this.supports.encodings[f.commonName]||(this.supports.encodings[f.commonName]=!0);this[Ee]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[lt].commonName,valueEncoding:this[Pt].commonName}),key:Object.freeze({keyEncoding:this[lt].commonName})},this.nextTick(()=>{this[ht]&&this.open({passive:!1},gi)})}get status(){return this[v]}keyEncoding(e){return this[Fe].encoding(e!=null?e:this[lt])}valueEncoding(e){return this[Fe].encoding(e!=null?e:this[Pt])}open(e,r){r=pe(e,r),r=ce(r,I),e={...this[Sn],...fe(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;const i=c=>{this[v]==="closing"||this[v]==="opening"?this.once(ee,c?()=>i(c):i):this[v]!=="open"?r(new H("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:c})):r()};return e.passive?this[v]==="opening"?this.once(ee,i):this.nextTick(i):this[v]==="closed"||this[ht]?(this[ht]=!1,this[v]="opening",this.emit("opening"),this._open(e,c=>{if(c){this[v]="closed",this[Mt](()=>{this.emit(ee),i(c)}),this[Xe]();return}this[v]="open",this[Xe](),this.emit(ee),this[v]==="open"&&this.emit("open"),this[v]==="open"&&this.emit("ready"),i()})):this[v]==="open"?this.nextTick(i):this.once(ee,()=>this.open(e,r)),r[I]}_open(e,r){this.nextTick(r)}close(e){e=ce(e,I);const r=i=>{this[v]==="opening"||this[v]==="closing"?this.once(ee,i?r(i):r):this[v]!=="closed"?e(new H("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:i})):e()};if(this[v]==="open"){this[v]="closing",this.emit("closing");const i=c=>{this[v]="open",this[Xe](),this.emit(ee),r(c)};this[Mt](()=>{this._close(c=>{if(c)return i(c);this[v]="closed",this[Xe](),this.emit(ee),this[v]==="closed"&&this.emit("closed"),r()})})}else this[v]==="closed"?this.nextTick(r):this.once(ee,()=>this.close(e));return e[I]}[Mt](e){if(this[me].size===0)return this.nextTick(e);let r=this[me].size,i=!0;const c=()=>{--r===0&&(i?this.nextTick(e):e())};for(const l of this[me])l.close(c);i=!1,this[me].clear()}_close(e){this.nextTick(e)}get(e,r,i){if(i=pe(r,i),i=ce(i,I),r=fe(r,this[Ee].entry),this[v]==="opening")return this.defer(()=>this.get(e,r,i)),i[I];if(Ce(this,i))return i[I];const c=this._checkKey(e);if(c)return this.nextTick(i,c),i[I];const l=this.keyEncoding(r.keyEncoding),a=this.valueEncoding(r.valueEncoding),f=l.format,m=a.format;return(r.keyEncoding!==f||r.valueEncoding!==m)&&(r=Object.assign({},r,{keyEncoding:f,valueEncoding:m})),this._get(this.prefixKey(l.encode(e),f),r,(p,b)=>{if(p)return(p.code==="LEVEL_NOT_FOUND"||p.notFound||/NotFound/i.test(p))&&(p.code||(p.code="LEVEL_NOT_FOUND"),p.notFound||(p.notFound=!0),p.status||(p.status=404)),i(p);try{b=a.decode(b)}catch(g){return i(new H("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:g}))}i(null,b)}),i[I]}_get(e,r,i){this.nextTick(i,new Error("NotFound"))}getMany(e,r,i){if(i=pe(r,i),i=ce(i,I),r=fe(r,this[Ee].entry),this[v]==="opening")return this.defer(()=>this.getMany(e,r,i)),i[I];if(Ce(this,i))return i[I];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'keys' must be an array")),i[I];if(e.length===0)return this.nextTick(i,null,[]),i[I];const c=this.keyEncoding(r.keyEncoding),l=this.valueEncoding(r.valueEncoding),a=c.format,f=l.format;(r.keyEncoding!==a||r.valueEncoding!==f)&&(r=Object.assign({},r,{keyEncoding:a,valueEncoding:f}));const m=new Array(e.length);for(let p=0;p<e.length;p++){const b=e[p],g=this._checkKey(b);if(g)return this.nextTick(i,g),i[I];m[p]=this.prefixKey(c.encode(b),a)}return this._getMany(m,r,(p,b)=>{if(p)return i(p);try{for(let g=0;g<b.length;g++)b[g]!==void 0&&(b[g]=l.decode(b[g]))}catch(g){return i(new H(`Could not decode one or more of ${b.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:g}))}i(null,b)}),i[I]}_getMany(e,r,i){this.nextTick(i,null,new Array(e.length).fill(void 0))}put(e,r,i,c){if(c=pe(i,c),c=ce(c,I),i=fe(i,this[Ee].entry),this[v]==="opening")return this.defer(()=>this.put(e,r,i,c)),c[I];if(Ce(this,c))return c[I];const l=this._checkKey(e)||this._checkValue(r);if(l)return this.nextTick(c,l),c[I];const a=this.keyEncoding(i.keyEncoding),f=this.valueEncoding(i.valueEncoding),m=a.format,p=f.format;(i.keyEncoding!==m||i.valueEncoding!==p)&&(i=Object.assign({},i,{keyEncoding:m,valueEncoding:p}));const b=this.prefixKey(a.encode(e),m),g=f.encode(r);return this._put(b,g,i,w=>{if(w)return c(w);this.emit("put",e,r),c()}),c[I]}_put(e,r,i,c){this.nextTick(c)}del(e,r,i){if(i=pe(r,i),i=ce(i,I),r=fe(r,this[Ee].key),this[v]==="opening")return this.defer(()=>this.del(e,r,i)),i[I];if(Ce(this,i))return i[I];const c=this._checkKey(e);if(c)return this.nextTick(i,c),i[I];const l=this.keyEncoding(r.keyEncoding),a=l.format;return r.keyEncoding!==a&&(r=Object.assign({},r,{keyEncoding:a})),this._del(this.prefixKey(l.encode(e),a),r,f=>{if(f)return i(f);this.emit("del",e),i()}),i[I]}_del(e,r,i){this.nextTick(i)}batch(e,r,i){if(!arguments.length){if(this[v]==="opening")return new Ln(this);if(this[v]!=="open")throw new H("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?i=e:i=pe(r,i),i=ce(i,I),r=fe(r,this[Ee].empty),this[v]==="opening")return this.defer(()=>this.batch(e,r,i)),i[I];if(Ce(this,i))return i[I];if(!Array.isArray(e))return this.nextTick(i,new TypeError("The first argument 'operations' must be an array")),i[I];if(e.length===0)return this.nextTick(i),i[I];const c=new Array(e.length),{keyEncoding:l,valueEncoding:a,...f}=r;for(let m=0;m<e.length;m++){if(typeof e[m]!="object"||e[m]===null)return this.nextTick(i,new TypeError("A batch operation must be an object")),i[I];const p=Object.assign({},e[m]);if(p.type!=="put"&&p.type!=="del")return this.nextTick(i,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),i[I];const b=this._checkKey(p.key);if(b)return this.nextTick(i,b),i[I];const g=p.sublevel!=null?p.sublevel:this,w=g.keyEncoding(p.keyEncoding||l),x=w.format;if(p.key=g.prefixKey(w.encode(p.key),x),p.keyEncoding=x,p.type==="put"){const T=this._checkValue(p.value);if(T)return this.nextTick(i,T),i[I];const A=g.valueEncoding(p.valueEncoding||a);p.value=A.encode(p.value),p.valueEncoding=A.format}g!==this&&(p.sublevel=null),c[m]=p}return this._batch(c,f,m=>{if(m)return i(m);this.emit("batch",e),i()}),i[I]}_batch(e,r,i){this.nextTick(i)}sublevel(e,r){return this._sublevel(e,Yt.defaults(r))}_sublevel(e,r){return new Yt(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=pe(e,r),r=ce(r,I),e=fe(e,this[Ee].empty),this[v]==="opening")return this.defer(()=>this.clear(e,r)),r[I];if(Ce(this,r))return r[I];const i=e,c=this.keyEncoding(e.keyEncoding);return e=ft(e,c),e.keyEncoding=c.format,e.limit===0?this.nextTick(r):this._clear(e,l=>{if(l)return r(l);this.emit("clear",i),r()}),r[I]}_clear(e,r){this.nextTick(r)}iterator(e){const r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=ft(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[ye.keyEncoding]=r,e[ye.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[v]==="opening")return new pi(this,e);if(this[v]!=="open")throw new H("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new ye(this,e)}keys(e){const r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=ft(e,r),e[ye.keyEncoding]=r,e[ye.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[v]==="opening")return new mi(this,e);if(this[v]!=="open")throw new H("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new di(this,e)}values(e){const r=this.keyEncoding(e&&e.keyEncoding),i=this.valueEncoding(e&&e.valueEncoding);if(e=ft(e,r),e[ye.keyEncoding]=r,e[ye.valueEncoding]=i,e.keyEncoding=r.format,e.valueEncoding=i.format,this[v]==="opening")return new Ei(this,e);if(this[v]!=="open")throw new H("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new yi(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[We].push(e)}[Xe](){if(this[We].length===0)return;const e=this[We];this[We]=[];for(const r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[me].add(e)}detachResource(e){this[me].delete(e)}_chainedBatch(){return new Ln(this)}_checkKey(e){if(e==null)return new H("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new H("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}sn.prototype.nextTick=ui();const{AbstractSublevel:Yt}=fi()({AbstractLevel:sn});Et.AbstractLevel=sn;Et.AbstractSublevel=Yt;const Ce=function(o,e){return o[v]!=="open"?(o.nextTick(e,new H("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},wi=function(o){return Object.keys(o.supports.encodings).filter(e=>!!o.supports.encodings[e])};ae.AbstractLevel=Et.AbstractLevel;ae.AbstractSublevel=Et.AbstractSublevel;ae.AbstractIterator=Q.AbstractIterator;ae.AbstractKeyIterator=Q.AbstractKeyIterator;ae.AbstractValueIterator=Q.AbstractValueIterator;ae.AbstractChainedBatch=rn.AbstractChainedBatch;/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var xi=_i;const bi=tr;function _i(o,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let i,c,l,a,f,m=!0,p;Array.isArray(o)?(i=[],l=c=o.length):(a=Object.keys(o),i={},l=c=a.length);function b(w){function x(){r&&r(w,i),r=null}m?bi(x):x()}function g(w,x,T){if(i[w]=T,x&&(f=!0),--l===0||x)b(x);else if(!f&&p<c){let A;a?(A=a[p],p+=1,o[A](function(M,F){g(A,M,F)})):(A=p,p+=1,o[A](function(M,F){g(A,M,F)}))}}p=e,l?a?a.some(function(w,x){return o[w](function(T,A){g(w,T,A)}),x===e-1}):o.some(function(w,x){return w(function(T,A){g(x,T,A)}),x===e-1}):b(null),m=!1}var nr={},rr=function(e){const r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,i=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,c=e.gte===void 0,l=e.lte===void 0;return r!==void 0&&i!==void 0?IDBKeyRange.bound(r,i,c,l):r!==void 0?IDBKeyRange.lowerBound(r,c):i!==void 0?IDBKeyRange.upperBound(i,l):null};const Ti=new TextEncoder;var ir=function(o){return o instanceof Uint8Array?o:o instanceof ArrayBuffer?new Uint8Array(o):Ti.encode(o)};const{AbstractIterator:Ii}=ae,On=rr,at=ir,J=Symbol("cache"),te=Symbol("finished"),K=Symbol("options"),ne=Symbol("currentOptions"),ge=Symbol("position"),Kt=Symbol("location"),ke=Symbol("first"),Fn={};class Bi extends Ii{constructor(e,r,i){super(e,i),this[J]=[],this[te]=this.limit===0,this[K]=i,this[ne]={...i},this[ge]=void 0,this[Kt]=r,this[ke]=!0}_nextv(e,r,i){if(this[ke]=!1,this[te])return this.nextTick(i,null,[]);if(this[J].length>0)return e=Math.min(e,this[J].length),this.nextTick(i,null,this[J].splice(0,e));this[ge]!==void 0&&(this[K].reverse?(this[ne].lt=this[ge],this[ne].lte=void 0):(this[ne].gt=this[ge],this[ne].gte=void 0));let c;try{c=On(this[ne])}catch{return this[te]=!0,this.nextTick(i,null,[])}const l=this.db.db.transaction([this[Kt]],"readonly"),a=l.objectStore(this[Kt]),f=[];if(this[K].reverse){const m=!this[K].values&&a.openKeyCursor?"openKeyCursor":"openCursor";a[m](c,"prev").onsuccess=p=>{const b=p.target.result;if(b){const{key:g,value:w}=b;this[ge]=g,f.push([this[K].keys&&g!==void 0?at(g):void 0,this[K].values&&w!==void 0?at(w):void 0]),f.length<e?b.continue():Cn(l)}else this[te]=!0}}else{let m,p;const b=()=>{if(m===void 0||p===void 0)return;const g=Math.max(m.length,p.length);g===0||e===1/0?this[te]=!0:this[ge]=m[g-1],f.length=g;for(let w=0;w<g;w++){const x=m[w],T=p[w];f[w]=[this[K].keys&&x!==void 0?at(x):void 0,this[K].values&&T!==void 0?at(T):void 0]}Cn(l)};this[K].keys||e<1/0?a.getAllKeys(c,e<1/0?e:void 0).onsuccess=g=>{m=g.target.result,b()}:(m=[],this.nextTick(b)),this[K].values?a.getAll(c,e<1/0?e:void 0).onsuccess=g=>{p=g.target.result,b()}:(p=[],this.nextTick(b))}l.onabort=()=>{i(l.error||new Error("aborted by user")),i=null},l.oncomplete=()=>{i(null,f),i=null}}_next(e){if(this[J].length>0){const[r,i]=this[J].shift();this.nextTick(e,null,r,i)}else if(this[te])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[ke]&&(this[ke]=!1,r=1),this._nextv(r,Fn,(i,c)=>{if(i)return e(i);this[J]=c,this._next(e)})}}_all(e,r){this[ke]=!1;const i=this[J].splice(0,this[J].length),c=this.limit-this.count-i.length;if(c<=0)return this.nextTick(r,null,i);this._nextv(c,Fn,(l,a)=>{if(l)return r(l);i.length>0&&(a=i.concat(a)),r(null,a)})}_seek(e,r){this[ke]=!0,this[J]=[],this[te]=!1,this[ge]=void 0,this[ne]={...this[K]};let i;try{i=On(this[K])}catch{this[te]=!0;return}i!==null&&!i.includes(e)?this[te]=!0:this[K].reverse?this[ne].lte=e:this[ne].gte=e}}nr.Iterator=Bi;function Cn(o){typeof o.commit=="function"&&o.commit()}var vi=function(e,r,i,c,l){if(c.limit===0)return e.nextTick(l);const a=e.db.transaction([r],"readwrite"),f=a.objectStore(r);let m=0;a.oncomplete=function(){l()},a.onabort=function(){l(a.error||new Error("aborted by user"))};const p=f.openKeyCursor?"openKeyCursor":"openCursor",b=c.reverse?"prev":"next";f[p](i,b).onsuccess=function(g){const w=g.target.result;w&&(f.delete(w.key).onsuccess=function(){(c.limit<=0||++m<c.limit)&&w.continue()})}};const{AbstractLevel:Ai}=ae,kn=z,Li=xi,{fromCallback:Si}=$e,{Iterator:Oi}=nr,Nn=ir,Fi=vi,Ci=rr,sr="level-js-",Je=Symbol("idb"),jt=Symbol("namePrefix"),re=Symbol("location"),qt=Symbol("version"),we=Symbol("store"),Ze=Symbol("onComplete"),Rn=Symbol("promise");class or extends Ai{constructor(e,r,i){if(typeof r=="function"||typeof i=="function")throw new kn("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:c,version:l,...a}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},a),typeof e!="string")throw new Error("constructor requires a location string argument");this[re]=e,this[jt]=c==null?sr:c,this[qt]=parseInt(l||1,10),this[Je]=null}get location(){return this[re]}get namePrefix(){return this[jt]}get version(){return this[qt]}get db(){return this[Je]}get type(){return"browser-level"}_open(e,r){const i=indexedDB.open(this[jt]+this[re],this[qt]);i.onerror=function(){r(i.error||new Error("unknown error"))},i.onsuccess=()=>{this[Je]=i.result,r()},i.onupgradeneeded=c=>{const l=c.target.result;l.objectStoreNames.contains(this[re])||l.createObjectStore(this[re])}}[we](e){return this[Je].transaction([this[re]],e).objectStore(this[re])}[Ze](e,r){const i=e.transaction;i.onabort=function(){r(i.error||new Error("aborted by user"))},i.oncomplete=function(){r(null,e.result)}}_get(e,r,i){const c=this[we]("readonly");let l;try{l=c.get(e)}catch(a){return this.nextTick(i,a)}this[Ze](l,function(a,f){if(a)return i(a);if(f===void 0)return i(new kn("Entry not found",{code:"LEVEL_NOT_FOUND"}));i(null,Nn(f))})}_getMany(e,r,i){const c=this[we]("readonly"),l=e.map(a=>f=>{let m;try{m=c.get(a)}catch(p){return f(p)}m.onsuccess=()=>{const p=m.result;f(null,p===void 0?p:Nn(p))},m.onerror=p=>{p.stopPropagation(),f(m.error)}});Li(l,16,i)}_del(e,r,i){const c=this[we]("readwrite");let l;try{l=c.delete(e)}catch(a){return this.nextTick(i,a)}this[Ze](l,i)}_put(e,r,i,c){const l=this[we]("readwrite");let a;try{a=l.put(r,e)}catch(f){return this.nextTick(c,f)}this[Ze](a,c)}_iterator(e){return new Oi(this,this[re],e)}_batch(e,r,i){const c=this[we]("readwrite"),l=c.transaction;let a=0,f;l.onabort=function(){i(f||l.error||new Error("aborted by user"))},l.oncomplete=function(){i()};function m(){const p=e[a++],b=p.key;let g;try{g=p.type==="del"?c.delete(b):c.put(p.value,b)}catch(w){f=w,l.abort();return}a<e.length?g.onsuccess=m:typeof l.commit=="function"&&l.commit()}m()}_clear(e,r){let i,c;try{i=Ci(e)}catch{return this.nextTick(r)}if(e.limit>=0)return Fi(this,this[re],i,e,r);try{const l=this[we]("readwrite");c=i?l.delete(i):l.clear()}catch(l){return this.nextTick(r,l)}this[Ze](c,r)}_close(e){this[Je].close(),this.nextTick(e)}}or.destroy=function(o,e,r){typeof e=="function"&&(r=e,e=sr),r=Si(r,Rn);const i=indexedDB.deleteDatabase(e+o);return i.onsuccess=function(){r()},i.onerror=function(c){r(c)},r[Rn]};Un.BrowserLevel=or;var Ui=br.Level=Un.BrowserLevel;export{Ui as L,ae as a,mt as b,br as c,z as m};
